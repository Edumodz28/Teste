local Players = game:GetService("Players")
local LocalPlayer = Players.LocalPlayer
local UserInputService = game:GetService("UserInputService")
local Camera = game.Workspace.CurrentCamera
local ChatService = game:GetService("Chat")

-- Criar uma tela de GUI
local ScreenGui = Instance.new("ScreenGui")
ScreenGui.Parent = game.Players.LocalPlayer.PlayerGui

-- Criar um frame para o layout
local frame = Instance.new("Frame")
frame.Size = UDim2.new(0, 300, 0, 320)
frame.Position = UDim2.new(0, 10, 0, 10)
frame.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
frame.BorderSizePixel = 2
frame.Parent = ScreenGui

-- Label para a lista de jogadores
local playerListLabel = Instance.new("TextLabel")
playerListLabel.Text = "Lista de Jogadores:"
playerListLabel.Position = UDim2.new(0, 10, 0, 10)
playerListLabel.Size = UDim2.new(0, 280, 0, 20)
playerListLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
playerListLabel.Parent = frame

-- Lista de jogadores
local playerList = Instance.new("ScrollingFrame")
playerList.Position = UDim2.new(0, 10, 0, 40)
playerList.Size = UDim2.new(0, 280, 0, 200)
playerList.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
playerList.ScrollBarThickness = 6
playerList.Parent = frame

-- Campo de texto para inserir o ID do jogador
local idInput = Instance.new("TextBox")
idInput.PlaceholderText = "Insira o ID do jogador"
idInput.Position = UDim2.new(0, 10, 0, 250)
idInput.Size = UDim2.new(0, 200, 0, 20)
idInput.TextColor3 = Color3.fromRGB(255, 255, 255)
idInput.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
idInput.Parent = frame

-- Botão para observar o jogador pelo ID inserido
local observeButton = Instance.new("TextButton")
observeButton.Text = "Observar"
observeButton.Position = UDim2.new(0, 220, 0, 250)
observeButton.Size = UDim2.new(0, 60, 0, 20)
observeButton.TextColor3 = Color3.fromRGB(255, 255, 255)
observeButton.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
observeButton.Parent = frame

-- Botão para teleportar para a posição da câmera
local teleportButton = Instance.new("TextButton")
teleportButton.Text = "Teleportar para Câmera"
teleportButton.Position = UDim2.new(0, 10, 0, 280)
teleportButton.Size = UDim2.new(0, 140, 0, 20)
teleportButton.TextColor3 = Color3.fromRGB(255, 255, 255)
teleportButton.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
teleportButton.Parent = frame

-- Botão para enviar mensagem privada para o jogador
local messageButton = Instance.new("TextButton")
messageButton.Text = "Enviar Mensagem"
messageButton.Position = UDim2.new(0, 160, 0, 280)
messageButton.Size = UDim2.new(0, 130, 0, 20)
messageButton.TextColor3 = Color3.fromRGB(255, 255, 255)
messageButton.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
messageButton.Parent = frame

-- Atualizar a lista de jogadores
local function updatePlayerList()
    playerList:ClearAllChildren()
    local yPosition = 5
    for _, player in ipairs(Players:GetPlayers()) do
        if player ~= LocalPlayer then
            local playerButton = Instance.new("TextButton")
            playerButton.Text = string.format("[%s] %s", player.UserId, player.Name)
            playerButton.Position = UDim2.new(0, 5, 0, yPosition)
            playerButton.Size = UDim2.new(0, 270, 0, 20)
            playerButton.TextColor3 = Color3.fromRGB(255, 255, 255)
            playerButton.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
            playerButton.Parent = playerList

            playerButton.MouseButton1Click:Connect(function()
                idInput.Text = player.UserId
            end)

            yPosition = yPosition + 25
        end
    end
end

-- Conectar o botão de observar ao observar o jogador pelo ID inserido
observeButton.MouseButton1Click:Connect(function()
    local playerId = tonumber(idInput.Text)
    if playerId then
        local player = Players:GetPlayerByUserId(playerId)
        if player then
            local humanoidRootPart = player.Character:FindFirstChild("HumanoidRootPart")
            if humanoidRootPart then
                Camera.CameraSubject = humanoidRootPart
                SendMessage("O usuário " .. LocalPlayer.Name .. " está observando o jogador " .. player.Name)
            else
                SendMessage("O jogador não está disponível para observação.")
            end
        else
            SendMessage("ID do jogador inválido ou jogador não encontrado.")
        end
    else
        SendMessage("Insira um ID de jogador válido.")
    end
end)

-- Conectar o botão de teleportar
teleportButton.MouseButton1Click:Connect(function()
    local cameraPosition = Camera.CFrame.p
    LocalPlayer.Character:SetPrimaryPartCFrame(CFrame.new(cameraPosition))
end)

-- Conectar o botão de enviar mensagem
messageButton.MouseButton1Click:Connect(function()
    local message = "Mensagem privada."
    local playerId = tonumber(idInput.Text)
    if playerId then
        local player = Players:GetPlayerByUserId(playerId)
        if player then
            SendMessage("Mensagem de " .. LocalPlayer.Name .. ": " .. message)
        else
            SendMessage("O jogador selecionado não está disponível.")
        end
    else
        SendMessage("Insira um ID de jogador válido.")
    end
end)

-- Atualizar a lista de jogadores inicialmente
updatePlayerList()

-- Função para copiar o ID do jogador ao pressionar a tecla "5"
UserInputService.InputBegan:Connect(function(input)
    if input.KeyCode == Enum.KeyCode.KeypadFive then
        local playerId = tonumber(idInput.Text)
        if playerId then
            idInput:CaptureFocus()
            idInput.Text = tostring(playerId)
            idInput:ReleaseFocus()
        else
            SendMessage("Selecione um jogador da lista primeiro.")
        end
    end
end)

-- Botão para atualizar a lista de jogadores
local refreshButton = Instance.new("TextButton")
refreshButton.Text = "Atualizar Lista"
refreshButton.Position = UDim2.new(0, 10, 0, 310)
refreshButton.Size = UDim2.new(0, 140, 0, 20)
refreshButton.TextColor3 = Color3.fromRGB(255, 255, 255)
refreshButton.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
refreshButton.Parent = frame

-- Conectar o botão de atualizar lista
refreshButton.MouseButton1Click:Connect(updatePlayerList)
