local Players = game:GetService("Players")
local LocalPlayer = Players.LocalPlayer
local Mouse = LocalPlayer:GetMouse()
local Workspace = game:GetService("Workspace")
local Chat = game:GetService("Chat")

-- Variáveis para controle de mensagens no chat
local messageCount = 0
local messageLimit = 5
local cooldownTime = 10
local lastMessageTime = 0

-- Evento para causar dano aos jogadores
local AttackEvent = Instance.new("BindableEvent")

-- Função para enviar mensagem para o chat com tag especial
local function SendMessage(message)
    if messageCount < messageLimit then
        local tag = "[Admin]"
        local playerName = LocalPlayer.Name
        local formattedMessage = string.format("[%s] %s: %s", tag, playerName, message)
        Chat:Chat(LocalPlayer.Character, formattedMessage)
        messageCount = messageCount + 1
    else
        local currentTime = tick()
        if currentTime - lastMessageTime >= cooldownTime then
            messageCount = 0
            lastMessageTime = currentTime
            local tag = "[Admin]"
            local playerName = LocalPlayer.Name
            local formattedMessage = string.format("[%s] %s: %s", tag, playerName, message)
            Chat:Chat(LocalPlayer.Character, formattedMessage)
            messageCount = messageCount + 1
        end
    end
end

-- Função para criar o quadrado que causa dano


-- Função para criar NPCs
local function CreateNPC()
    -- Criar um NPC ao lado do jogador a 50 metros de distância
    local playerPosition = Players.LocalPlayer.Character.HumanoidRootPart.Position
    local spawnPosition = playerPosition + Vector3.new(50, 0, 0) -- Posição do jogador + 50 metros para a frente
    local npc = Instance.new("Part")
    npc.Size = Vector3.new(2, 4, 2)
    npc.Position = spawnPosition
    npc.Anchored = true
    npc.BrickColor = BrickColor.Random()
    npc.Parent = Workspace
    npc.Touched:Connect(function(hit)
        local character = hit.Parent
        if character and character:IsA("Model") and character:FindFirstChild("Humanoid") then
            AttackEvent:Fire(character) -- Disparar evento para causar dano ao jogador
        end
    end)
end

-- Função para criar NPCs a cada 10 segundos
local function CreateNPCs()
    while true do
        wait(10)
        CreateNPC()
    end
end

-- Disparar evento quando um jogador é atingido pelo NPC
AttackEvent.Event:Connect(function(character)
    local humanoid = character:FindFirstChild("Humanoid")
    if humanoid then
        -- Reduzir a vida do jogador para 10
        humanoid.Health = 10
    end
end)

-- Iniciar criação de NPCs em uma thread separada
coroutine.wrap(CreateNPCs)()

-- Função para criar o quadrado que causa dano
CreateDamageSquare()

-- Disparar evento quando um jogador é atingido pelo quadrado
AttackEvent.Event:Connect(function(humanoid)
    humanoid:TakeDamage(10) -- Causar 10 de dano ao jogador
end)

-- Função para criar NPCs
local function CreateNPC()
    -- Código para criar o NPC...
    SendMessage("Um NPC foi criado!") -- Enviar mensagem para o chat
end

-- Função para criar NPCs periodicamente
local function CreateNPCsPeriodically()
    while true do
        wait(10)
        CreateNPC()
    end
end

-- Iniciar criação de NPCs em uma thread separada
coroutine.wrap(CreateNPCsPeriodically)()

-- Speed
local function SetPlayerSpeed(speed)
    local character = LocalPlayer.Character
    if character then
        local humanoid = character:FindFirstChildOfClass("Humanoid")
        if humanoid then
            humanoid.WalkSpeed = speed
        end
    end
end

-- Ativar o Speed
SetPlayerSpeed(100) -- Definindo a velocidade do jogador como 100

-- Super Pulo
Mouse.KeyDown:Connect(function(key)
    if key == "space" then
        LocalPlayer.Character:FindFirstChildOfClass("Humanoid"):ChangeState(Enum.HumanoidStateType.Jumping)
    end
end)
