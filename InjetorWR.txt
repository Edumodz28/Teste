local Players = game:GetService("Players")
local LocalPlayer = Players.LocalPlayer
local Mouse = LocalPlayer:GetMouse()
local UserInputService = game:GetService("UserInputService")
local Camera = game.Workspace.CurrentCamera

-- Criar uma tela de GUI
local ScreenGui = Instance.new("ScreenGui")
ScreenGui.Parent = game.Players.LocalPlayer.PlayerGui

-- Criar um frame para o layout
local frame = Instance.new("Frame")
frame.Size = UDim2.new(0, 300, 0, 200)
frame.Position = UDim2.new(0, 10, 0, 10)
frame.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
frame.BorderSizePixel = 2
frame.Parent = ScreenGui

-- Label para a lista de jogadores
local playerListLabel = Instance.new("TextLabel")
playerListLabel.Text = "Lista de Jogadores:"
playerListLabel.Position = UDim2.new(0, 10, 0, 10)
playerListLabel.Size = UDim2.new(0, 280, 0, 20)
playerListLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
playerListLabel.Parent = frame

-- Frame para a lista de jogadores
local playerListFrame = Instance.new("Frame")
playerListFrame.Position = UDim2.new(0, 10, 0, 40)
playerListFrame.Size = UDim2.new(0, 280, 0, 120)
playerListFrame.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
playerListFrame.Parent = frame

-- Variável para armazenar o jogador selecionado
local selectedPlayer = nil

-- Função para atualizar a lista de jogadores
local function updatePlayerList()
    for _, child in ipairs(playerListFrame:GetChildren()) do
        if child:IsA("TextLabel") then
            child:Destroy()
        end
    end

    local yPosition = 5
    for _, player in ipairs(Players:GetPlayers()) do
        if player ~= LocalPlayer then
            local playerLabel = Instance.new("TextLabel")
            playerLabel.Text = player.Name
            playerLabel.Position = UDim2.new(0, 5, 0, yPosition)
            playerLabel.Size = UDim2.new(0, 270, 0, 20)
            playerLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
            playerLabel.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
            playerLabel.Parent = playerListFrame

            playerLabel.MouseButton1Click:Connect(function()
                selectedPlayer = player
                observePlayer(player)
            end)

            yPosition = yPosition + 25
        end
    end
end

-- Função para observar um jogador
local function observePlayer(player)
    -- Parar de observar o jogador anterior
    if selectedPlayer and selectedPlayer.Character and selectedPlayer.Character:FindFirstChild("HumanoidRootPart") then
        local humanoidRootPart = selectedPlayer.Character.HumanoidRootPart
        Camera.CameraSubject = humanoidRootPart
    end
end

-- Atualizar a lista de jogadores quando um jogador entra ou sai do jogo
Players.PlayerAdded:Connect(updatePlayerList)
Players.PlayerRemoving:Connect(updatePlayerList)

-- Atualizar a lista de jogadores inicialmente
updatePlayerList()
