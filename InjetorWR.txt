local Players = game:GetService("Players")
local LocalPlayer = Players.LocalPlayer
local Mouse = LocalPlayer:GetMouse()
local Workspace = game:GetService("Workspace")
local Chat = game:GetService("Chat")

-- Evento para causar dano aos jogadores
local DamageEvent = Instance.new("BindableEvent")
DamageEvent.Name = "PlayerDamageEvent"
DamageEvent.Parent = LocalPlayer

-- Função para criar o quadrado que causa dano
local function CreateDamageSquare()
    local damageSquare = Instance.new("Part")
    damageSquare.Size = Vector3.new(2, 2, 2)
    damageSquare.Anchored = true
    damageSquare.Position = LocalPlayer.Character.HumanoidRootPart.Position
    damageSquare.BrickColor = BrickColor.new("Bright red")
    damageSquare.Transparency = 0.5  -- Definir transparência para 50%
    damageSquare.Parent = Workspace

    -- Detectar quando um jogador entra na área do quadrado
    damageSquare.Touched:Connect(function(hit)
        if hit.Parent and hit.Parent:IsA("Model") and hit.Parent:FindFirstChild("Humanoid") then
            local humanoid = hit.Parent:FindFirstChild("Humanoid")
            if humanoid and hit.Parent ~= LocalPlayer.Character then
                DamageEvent:FireServer(humanoid, LocalPlayer) -- Disparar evento para causar dano ao jogador ou NPC
            end
        end
    end)
end

-- Função para criar o quadrado que causa dano
CreateDamageSquare()

-- Lidar com o dano causado pelo quadrado
DamageEvent.OnServerEvent:Connect(function(player, humanoid)
    humanoid:TakeDamage(10) -- Causar 10 de dano ao jogador ou NPC
    if humanoid.Health > 0 then
        SendMessage("Dano registrado com sucesso.")
    else
        SendMessage("Falha ao registrar dano.")
    end
end)

-- Função para enviar mensagem para o chat com tag especial
local function SendMessage(message)
    local tag = "[Admin]"
    local playerName = LocalPlayer.Name
    local formattedMessage = string.format("[%s] %s: %s", tag, playerName, message)
    Chat:Chat(LocalPlayer.Character, formattedMessage)
end

-- Speed
local function SetPlayerSpeed(speed)
    local character = LocalPlayer.Character
    if character then
        local humanoid = character:FindFirstChildOfClass("Humanoid")
        if humanoid then
            humanoid.WalkSpeed = speed
        end
    end
end

-- Ativar o Speed
SetPlayerSpeed(100) -- Definindo a velocidade do jogador como 100

-- Super Pulo
Mouse.KeyDown:Connect(function(key)
    if key == "space" then
        LocalPlayer.Character:FindFirstChildOfClass("Humanoid"):ChangeState(Enum.HumanoidStateType.Jumping)
    end
end)
