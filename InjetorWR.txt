local object = script.Parent
local health = object:FindFirstChild("Health")

if not health then
    health = Instance.new("IntValue")
    health.Name = "Health"
    health.Value = 100
    health.Parent = object
end

-- Variável para controlar se o objeto já sofreu dano
local damageApplied = false

-- Função para reduzir a vida do objeto
local function TakeDamage(damageAmount)
    if not damageApplied then
        health.Value = health.Value - damageAmount
        damageApplied = true

        if health.Value <= 0 then
            object:Destroy()
        end
    end
end

-- Conectar a função ao evento Touched do objeto para aplicar dano
object.Touched:Connect(function(part)
    if not damageApplied then
        local damageValue = part:FindFirstChild("damageAmount")
        if damageValue and typeof(damageValue.Value) == "number" then
            TakeDamage(damageValue.Value) -- Reduz a vida do objeto com base no dano causado
        end
    end
end)
