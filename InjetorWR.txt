local Players = game:GetService("Players")
local LocalPlayer = Players.LocalPlayer
local PlayerGui = LocalPlayer:WaitForChild("PlayerGui")

-- Configurações do layout
local LayoutWidth = 150
local LayoutHeight = 150
local ButtonSize = 30
local ButtonSpacing = 5

-- Criar o ScreenGui
local ScreenGui = Instance.new("ScreenGui")
ScreenGui.Parent = PlayerGui

-- Criar o Frame principal do layout
local Frame = Instance.new("Frame")
Frame.Size = UDim2.new(0, LayoutWidth, 0, LayoutHeight)
Frame.Position = UDim2.new(1, -LayoutWidth - 10, 1, -LayoutHeight - 10)
Frame.BackgroundColor3 = Color3.new(0, 0, 0)
Frame.BackgroundTransparency = 0.5
Frame.Parent = ScreenGui

-- Função para criar um botão
local function CreateButton(name, position)
    local button = Instance.new("TextButton")
    button.Name = name
    button.Text = name
    button.Size = UDim2.new(0, ButtonSize, 0, ButtonSize)
    button.Position = position
    button.BackgroundColor3 = Color3.new(1, 1, 1)
    button.TextColor3 = Color3.new(0, 0, 0)
    button.Font = Enum.Font.SourceSans
    button.TextSize = 14
    button.Parent = Frame

    return button
end

-- Criar os botões de controle de voo
local buttons = {
    {name = "Frente", position = UDim2.new(0.5, -ButtonSize / 2, 0, ButtonSpacing)},
    {name = "Trás", position = UDim2.new(0.5, -ButtonSize / 2, 0, 2 * ButtonSpacing + ButtonSize)},
    {name = "Esquerda", position = UDim2.new(0, ButtonSpacing, 0, ButtonSpacing + ButtonSize)},
    {name = "Direita", position = UDim2.new(0, 2 * ButtonSpacing + ButtonSize, 0, ButtonSpacing + ButtonSize)},
    {name = "Cima", position = UDim2.new(0.5, -ButtonSize / 2, 0, 3 * ButtonSpacing + 2 * ButtonSize)},
    {name = "Baixo", position = UDim2.new(0.5, -ButtonSize / 2, 0, 4 * ButtonSpacing + 3 * ButtonSize)}
}

local buttonInstances = {}
for _, btn in ipairs(buttons) do
    buttonInstances[btn.name] = CreateButton(btn.name, btn.position)
end

-- Função para voar com base nos botões pressionados
local function Fly()
    local flySpeed = 50
    local flyKeys = {
        Frente = false,
        Trás = false,
        Esquerda = false,
        Direita = false,
        Cima = false,
        Baixo = false
    }

    local function updateFly()
        local forward = (flyKeys.Frente and Vector3.new(0, 0, -1) or Vector3.new())
        local backward = (flyKeys.Trás and Vector3.new(0, 0, 1) or Vector3.new())
        local left = (flyKeys.Esquerda and Vector3.new(-1, 0, 0) or Vector3.new())
        local right = (flyKeys.Direita and Vector3.new(1, 0, 0) or Vector3.new())
        local up = (flyKeys.Cima and Vector3.new(0, 1, 0) or Vector3.new())
        local down = (flyKeys.Baixo and Vector3.new(0, -1, 0) or Vector3.new())

        LocalPlayer.Character.HumanoidRootPart.Velocity = (forward + backward + left + right + up + down).unit * flySpeed
    end

    -- Capturar o input do usuário para voar
    for _, button in pairs(buttonInstances) do
        button.MouseButton1Down:Connect(function()
            flyKeys[button.Name] = true
            updateFly()
        end)

        button.MouseButton1Up:Connect(function()
            flyKeys[button.Name] = false
            updateFly()
        end)
    end
end

Fly() -- Chamar a função de voo

