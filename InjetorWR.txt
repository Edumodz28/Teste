local Lib = loadstring(game:HttpGet("https://raw.githubusercontent.com/7yhx/kwargs_Ui_Library/main/source.lua"))()
local ReplicatedStorage = game:GetService("ReplicatedStorage")
local playerActionEvent = Instance.new("RemoteEvent")
playerActionEvent.Name = "PlayerActionEvent"
playerActionEvent.Parent = ReplicatedStorage
local UI = Lib:Create{
    Theme = "Dark",
    Size = UDim2.new(0, 1, 0, 1)
}



playerActionEvent.OnServerEvent:Connect(function(player, action, parameter)
    if action == "SetSpeed" then
        local humanoid = player.Character:FindFirstChildOfClass("Humanoid")
        if humanoid then
            humanoid.WalkSpeed = parameter
        end
    elseif action == "TeleportToNearestPlayer" then
        local nearestPlayer = nil
        local shortestDistance = math.huge

        for _, otherPlayer in pairs(game.Players:GetPlayers()) do
            if otherPlayer ~= player then
                local distance = (otherPlayer.Character and player.Character) and (otherPlayer.Character:WaitForChild("HumanoidRootPart").Position - player.Character:WaitForChild("HumanoidRootPart").Position).Magnitude or math.huge

                if distance < shortestDistance then
                    nearestPlayer = otherPlayer
                    shortestDistance = distance
                end
            end
        end

        if nearestPlayer then
            local targetPosition = nearestPlayer.Character and nearestPlayer.Character:WaitForChild("HumanoidRootPart").Position
            if targetPosition then
                player.Character:WaitForChild("HumanoidRootPart").CFrame = CFrame.new(targetPosition)
            end
        end
    end
end)
