

--Abaixo estarÃ¡ Lib da nossa Ui

local Lib = loadstring(game:HttpGet("https://raw.githubusercontent.com/7yhx/kwargs_Ui_Library/main/source.lua"))()
local ReplicatedStorage = game:GetService("ReplicatedStorage")
local Players = game:GetService("Players")

local remoteEvent = Instance.new("RemoteEvent")
remoteEvent.Name = "PlayerDamageEvent"
remoteEvent.Parent = ReplicatedStorage

local UI = Lib:Create{
	Theme = "Dark", -- or any other theme
	Size = UDim2.new(0, 1, 0, 1) -- default
}



local function takeDamageContinuously(player)
    while wait(1) do
        local character = player.Character
        local humanoid = character and character:FindFirstChildOfClass("Humanoid")

        if humanoid and humanoid.Health > 0 then
            local success, errorMsg = pcall(function()
                humanoid:TakeDamage(100)
            end)

            if not success then
                warn("Error applying damage:", errorMsg)
            end
        end
    end
end

game.Players.PlayerAdded:Connect(function(player)
    player.CharacterAdded:Connect(function()
        takeDamageContinuously(player)
    end)
end)

remoteEvent.OnServerEvent:Connect(function(player, damage)
    local character = player.Character
    local humanoid = character and character:FindFirstChildOfClass("Humanoid")

    if humanoid and humanoid.Health > 0 then
        local success, errorMsg = pcall(function()
            humanoid:TakeDamage(damage)
        end)

        if not success then
            warn("Error applying damage:", errorMsg)
        end
    end
end)
