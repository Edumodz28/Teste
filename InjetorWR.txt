

--Abaixo estará Lib da nossa Ui

local Lib = loadstring(game:HttpGet("https://raw.githubusercontent.com/7yhx/kwargs_Ui_Library/main/source.lua"))()

local UI = Lib:Create{
	Theme = "Dark", -- or any other theme
	Size = UDim2.new(0, 1, 0, 1) -- default
}

local function arePlayersOnSameTeam(player1, player2)
    local player1Team = player1.Team
    local player2Team = player2.Team

    -- Verifica se ambos os jogadores têm uma equipe definida
    if player1Team and player2Team then
        return player1Team == player2Team
    end

    return false -- Se pelo menos um jogador não tiver uma equipe, considera que não estão na mesma equipe
end

local function teleportAndFollow(targetPlayer)
    local maxTeleports = 2 -- Número máximo de teletransportes para o mesmo jogador
    local teleportsCount = 0 -- Contador de teletransportes para o mesmo jogador

    local targetCharacter = targetPlayer.Character
    local targetHumanoidRootPart = targetCharacter and targetCharacter:FindFirstChild("HumanoidRootPart")

    local player = game.Players.LocalPlayer
    local playerCharacter = player.Character
    local playerHumanoidRootPart = playerCharacter and playerCharacter:FindFirstChild("HumanoidRootPart")

    if targetHumanoidRootPart and playerHumanoidRootPart and teleportsCount < maxTeleports
        and not arePlayersOnSameTeam(player, targetPlayer) then
        playerHumanoidRootPart.CFrame = targetHumanoidRootPart.CFrame * CFrame.new(0, 0, -5) -- ajuste a posição conforme necessário
        teleportsCount = teleportsCount + 1

        while wait(0.1) do
            if targetHumanoidRootPart.Parent == nil or targetHumanoidRootPart.Parent:FindFirstChildOfClass("Humanoid") == nil then
                break -- O jogador alvo morreu, interrompe o rastreamento
            end

            local offset = Vector3.new(0, 2, -5) -- ajuste a posição conforme necessário
            playerHumanoidRootPart.CFrame = targetHumanoidRootPart.CFrame * CFrame.new(offset)
        end
    end
end

game.Players.LocalPlayer:GetMouse().Button1Down:Connect(function()
    for _, otherPlayer in pairs(game.Players:GetPlayers()) do
        if otherPlayer ~= game.Players.LocalPlayer then
            teleportAndFollow(otherPlayer)
        end
    end
end)
